<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:schemaLocation="http://www.springframework.org/schema/beans
		http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">
		
		<bean id="jobDetail" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
			<property name="targetObject" ref="harvesterCronJob" />
			<property name="targetMethod" value="startWork" />
			<property name="concurrent" value="false" />
		</bean>
		
		<bean id="harvesterCronJob" class="com.m1.semanticapp.harvester.HarvesterCronJob">
			<property name="harvesterManager" ref="harvesterManager"/>
			<property name="rdfRepository" ref="rdfRepository"/>
		</bean>
		
		<!-- run every evening at 19.00 -->
		<!-- @see http://quartz.sourceforge.net/javadoc/org/quartz/CronTrigger.html  -->
		<bean id="cronTrigger" class="org.springframework.scheduling.quartz.CronTriggerBean">
			<property name="jobDetail" ref="jobDetail" />
			<property name="cronExpression" value="0 11 12 ? * *" />
		</bean>
		
		<bean class="org.springframework.scheduling.quartz.SchedulerFactoryBean" lazy-init="false">
			<property name="triggers">
				<list>
					<ref bean="cronTrigger" />
				</list>
			</property>
		</bean>

</beans>
